<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - SoulConnect</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        :root {
            --primary: #ff4b91;
            --primary-dark: #e83e8c;
            --secondary: #6c63ff;
            --dark: #2d2b55;
            --light: #f8f9fa;
            --gray: #6c757d;
            --success: #28a745;
            --warning: #ffc107;
            --info: #17a2b8;
            --online: #28a745;
            --offline: #6c757d;
            --sidebar-width: 260px;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar Styles */
        .sidebar {
            width: var(--sidebar-width);
            background: white;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 100;
        }

        .sidebar-header {
            padding: 25px 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
        }

        .sidebar-logo {
            display: flex;
            align-items: center;
            font-size: 22px;
            font-weight: 700;
            color: var(--primary);
        }

        .sidebar-logo i {
            margin-right: 10px;
            font-size: 26px;
        }

        .sidebar-nav {
            padding: 20px 0;
        }

        .nav-item {
            padding: 12px 20px;
            display: flex;
            align-items: center;
            color: var(--dark);
            text-decoration: none;
            transition: all 0.3s;
            border-left: 3px solid transparent;
        }

        .nav-item:hover, .nav-item.active {
            background: #fff5f9;
            color: var(--primary);
            border-left-color: var(--primary);
        }

        .nav-item i {
            margin-right: 12px;
            font-size: 18px;
            width: 20px;
            text-align: center;
        }

        .nav-badge {
            margin-left: auto;
            background: var(--primary);
            color: white;
            border-radius: 20px;
            padding: 2px 8px;
            font-size: 12px;
            font-weight: 600;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            padding: 20px;
        }

        /* Top Bar */
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            margin-bottom: 30px;
        }

        .search-bar {
            display: flex;
            align-items: center;
            background: white;
            border-radius: 30px;
            padding: 10px 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            width: 400px;
        }

        .search-bar input {
            border: none;
            outline: none;
            padding: 5px 10px;
            width: 100%;
            font-size: 16px;
        }

        .search-bar i {
            color: var(--gray);
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .notification-icon {
            position: relative;
            cursor: pointer;
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            overflow: hidden;
            border: 3px solid var(--primary);
        }

        .user-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .user-info h4 {
            font-size: 16px;
            font-weight: 600;
        }

        .user-info p {
            font-size: 12px;
            color: var(--gray);
        }

        /* Profile Section */
        .profile-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .profile-header {
            display: flex;
            gap: 30px;
            align-items: flex-start;
            margin-bottom: 30px;
        }

        .profile-avatar-container {
            position: relative;
        }

        .profile-avatar {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            overflow: hidden;
            border: 5px solid white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .profile-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .avatar-edit {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background 0.3s;
        }

        .avatar-edit:hover {
            background: var(--primary-dark);
        }

        .profile-info {
            flex: 1;
        }

        .profile-name {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 5px;
            color: var(--dark);
        }

        .profile-details {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .profile-detail {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--gray);
            font-size: 14px;
        }

        .profile-bio {
            margin-bottom: 20px;
            line-height: 1.6;
            max-width: 600px;
        }

        .profile-stats {
            display: flex;
            gap: 30px;
            margin-bottom: 20px;
        }

        .profile-stat {
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 14px;
            color: var(--gray);
        }

        .profile-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            font-size: 14px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .btn-secondary {
            background: #f0f0f0;
            color: var(--dark);
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        /* Verification Badge */
        .verification-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            background: var(--success);
            color: white;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 10px;
        }

        /* QR Code Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .qr-modal {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .qr-header {
            margin-bottom: 25px;
        }

        .qr-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 10px;
        }

        .qr-description {
            color: var(--gray);
            font-size: 14px;
        }

        .qr-code-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            display: inline-block;
            border: 2px solid #f0f0f0;
        }

        .qr-code {
            width: 200px;
            height: 200px;
            background: #f8f9fa;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
        }

        .qr-pattern {
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                repeating-linear-gradient(0deg, #000 0px, #000 4px, transparent 4px, transparent 8px),
                repeating-linear-gradient(90deg, #000 0px, #000 4px, transparent 4px, transparent 8px);
            background-size: 20px 20px;
            opacity: 0.8;
        }

        .qr-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 3px solid var(--primary);
            position: absolute;
            z-index: 2;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .qr-avatar img {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            object-fit: cover;
        }

        .qr-info {
            margin: 20px 0;
        }

        .qr-name {
            font-size: 18px;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 5px;
        }

        .qr-username {
            color: var(--gray);
            font-size: 14px;
        }

        .qr-actions {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 25px;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            color: var(--gray);
            cursor: pointer;
            transition: color 0.3s;
        }

        .modal-close:hover {
            color: var(--dark);
        }

        .qr-share-options {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #f0f0f0;
        }

        .share-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--dark);
        }

        .share-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        .share-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: all 0.3s;
            color: white;
        }

        .share-whatsapp {
            background: #25D366;
        }

        .share-messenger {
            background: #0084FF;
        }

        .share-instagram {
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
        }

        .share-copy {
            background: var(--primary);
        }

        .share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        /* Scanner Modal */
        .scanner-modal {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .scanner-container {
            width: 100%;
            height: 300px;
            background: #f8f9fa;
            border-radius: 10px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            border: 2px dashed #ddd;
        }

        .scanner-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent 49%, rgba(255, 75, 145, 0.3) 50%, transparent 51%),
                        linear-gradient(0deg, transparent 49%, rgba(255, 75, 145, 0.3) 50%, transparent 51%);
            animation: scan 2s linear infinite;
        }

        @keyframes scan {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }

        .scanner-placeholder {
            text-align: center;
            color: var(--gray);
        }

        .scanner-placeholder i {
            font-size: 48px;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .scanner-instructions {
            margin: 15px 0;
            color: var(--gray);
            font-size: 14px;
        }

        .scanner-actions {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        .file-input {
            display: none;
        }

        .scanner-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 1px solid #f0f0f0;
            padding-bottom: 15px;
        }

        .scanner-tab {
            flex: 1;
            padding: 10px;
            border: none;
            background: none;
            cursor: pointer;
            font-weight: 500;
            color: var(--gray);
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .scanner-tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- QR Code Modal -->
        <div class="modal-overlay" id="qrModal">
            <div class="qr-modal">
                <button class="modal-close" id="closeQrModal">
                    <i class="fas fa-times"></i>
                </button>
                
                <div class="qr-header">
                    <h2 class="qr-title">Your Profile QR Code</h2>
                    <p class="qr-description">Scan this code to quickly share your profile</p>
                </div>

                <div class="qr-code-container">
                    <div class="qr-code">
                        <div class="qr-pattern"></div>
                        <div class="qr-avatar">
                            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Profile Avatar">
                        </div>
                    </div>
                </div>

                <div class="qr-info">
                    <div class="qr-name">Alex Johnson</div>
                    <div class="qr-username">@alexjohnson</div>
                </div>

                <div class="qr-share-options">
                    <div class="share-title">Share via</div>
                    <div class="share-buttons">
                        <button class="share-btn share-whatsapp" title="Share on WhatsApp">
                            <i class="fab fa-whatsapp"></i>
                        </button>
                        <button class="share-btn share-messenger" title="Share on Messenger">
                            <i class="fab fa-facebook-messenger"></i>
                        </button>
                        <button class="share-btn share-instagram" title="Share on Instagram">
                            <i class="fab fa-instagram"></i>
                        </button>
                        <button class="share-btn share-copy" title="Copy Link" id="copyQrLink">
                            <i class="fas fa-link"></i>
                        </button>
                    </div>
                </div>

                <div class="qr-actions">
                    <button class="btn btn-secondary" id="downloadQr">
                        <i class="fas fa-download"></i> Download QR
                    </button>
                    <button class="btn btn-primary" id="shareProfile">
                        <i class="fas fa-share-alt"></i> Share Profile
                    </button>
                </div>
            </div>
        </div>

        <!-- Scanner Modal -->
        <div class="modal-overlay" id="scannerModal">
            <div class="scanner-modal">
                <button class="modal-close" id="closeScannerModal">
                    <i class="fas fa-times"></i>
                </button>
                
                <div class="qr-header">
                    <h2 class="qr-title">Scan QR Code</h2>
                    <p class="qr-description">Scan a SoulConnect profile QR code</p>
                </div>

                <div class="scanner-tabs">
                    <button class="scanner-tab active" data-tab="camera">Camera</button>
                    <button class="scanner-tab" data-tab="upload">Upload Image</button>
                </div>

                <div class="scanner-container" id="scannerContainer">
                    <div class="scanner-overlay"></div>
                    <div class="scanner-placeholder" id="cameraView">
                        <i class="fas fa-camera"></i>
                        <p>Camera access required for scanning</p>
                    </div>
                    <div class="scanner-placeholder" id="uploadView" style="display: none;">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Upload a QR code image to scan</p>
                        <input type="file" id="fileInput" class="file-input" accept="image/*">
                        <button class="btn btn-primary" onclick="document.getElementById('fileInput').click()">
                            <i class="fas fa-upload"></i> Choose Image
                        </button>
                    </div>
                </div>

                <div class="scanner-instructions">
                    Point your camera at a SoulConnect QR code or upload an image containing the code
                </div>

                <div class="scanner-actions">
                    <button class="btn btn-secondary" id="toggleFlash">
                        <i class="fas fa-bolt"></i> Flash
                    </button>
                    <button class="btn btn-primary" id="startScanner">
                        <i class="fas fa-play"></i> Start Scanner
                    </button>
                </div>
            </div>
        </div>

        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <i class="fas fa-heart"></i>
                    SoulConnect
                </div>
            </div>
            <div class="sidebar-nav">
                <a href="dash.html" class="nav-item">
                    <i class="fas fa-home"></i>
                    Dashboard
                </a>
                <a href="discover.html" class="nav-item">
                    <i class="fas fa-user-friends"></i>
                    Discover
                    <span class="nav-badge">12</span>
                </a>
                <a href="matches.html" class="nav-item">
                    <i class="fas fa-heart"></i>
                    Matches
                    <span class="nav-badge">8</span>
                </a>
                <a href="messages.html" class="nav-item">
                    <i class="fas fa-comments"></i>
                    Messages
                    <span class="nav-badge">5</span>
                </a>
                <a href="notifications.html" class="nav-item">
                    <i class="fas fa-bell"></i>
                    Notifications
                    <span class="nav-badge">15</span>
                </a>
                <a href="profile.html" class="nav-item active">
                    <i class="fas fa-user"></i>
                    My Profile
                </a>
                <a href="settings.html" class="nav-item">
                    <i class="fas fa-cog"></i>
                    Settings
                </a>
                <a href="index.html" class="nav-item">
                    <i class="fas fa-sign-out-alt"></i>
                    Logout
                </a>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Top Bar -->
            <div class="top-bar">
                <div style="display: flex; align-items: center; gap: 20px;">
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Search...">
                    </div>
                    <button class="btn btn-secondary" id="openScanner">
                        <i class="fas fa-qrcode"></i> Scan QR
                    </button>
                </div>
                <div class="user-menu">
                    <div class="notification-icon">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">15</span>
                    </div>
                    <div class="user-profile">
                        <div class="user-avatar">
                            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="User Avatar">
                        </div>
                        <div class="user-info">
                            <h4>Alex Johnson</h4>
                            <p>Premium Member</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Profile Section -->
            <div class="profile-section">
                <div class="profile-header">
                    <div class="profile-avatar-container">
                        <div class="profile-avatar">
                            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Profile Avatar">
                        </div>
                        <button class="avatar-edit">
                            <i class="fas fa-camera"></i>
                        </button>
                    </div>
                    <div class="profile-info">
                        <h1 class="profile-name">
                            Alex Johnson, 28
                            <span class="verification-badge">
                                <i class="fas fa-check"></i> Verified
                            </span>
                        </h1>
                        <div class="profile-details">
                            <div class="profile-detail">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>New York, NY</span>
                            </div>
                            <div class="profile-detail">
                                <i class="fas fa-heart"></i>
                                <span>Single</span>
                            </div>
                            <div class="profile-detail">
                                <i class="fas fa-briefcase"></i>
                                <span>Photographer</span>
                            </div>
                            <div class="profile-detail">
                                <i class="fas fa-graduation-cap"></i>
                                <span>NYU Alumni</span>
                            </div>
                        </div>
                        <p class="profile-bio">
                            Professional photographer and travel enthusiast. Love capturing moments and exploring new places. 
                            Coffee addict, hiking lover, and always up for an adventure. Looking for meaningful connections 
                            with someone who shares my passion for exploration and creativity.
                        </p>
                        <div class="profile-stats">
                            <div class="profile-stat">
                                <div class="stat-value">89%</div>
                                <div class="stat-label">Profile Complete</div>
                            </div>
                            <div class="profile-stat">
                                <div class="stat-value">156</div>
                                <div class="stat-label">Likes</div>
                            </div>
                            <div class="profile-stat">
                                <div class="stat-value">24</div>
                                <div class="stat-label">Matches</div>
                            </div>
                            <div class="profile-stat">
                                <div class="stat-value">12</div>
                                <div class="stat-label">Photos</div>
                            </div>
                        </div>
                        <div class="profile-actions">
                            <button class="btn btn-primary">
                                <i class="fas fa-edit"></i> Edit Profile
                            </button>
                            <button class="btn btn-secondary" id="shareProfileBtn">
                                <i class="fas fa-share-alt"></i> Share Profile
                            </button>
                            <button class="btn btn-secondary" id="showQrCode">
                                <i class="fas fa-qrcode"></i> My QR Code
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Modal functionality
        const qrModal = document.getElementById('qrModal');
        const scannerModal = document.getElementById('scannerModal');
        const showQrCodeBtn = document.getElementById('showQrCode');
        const openScannerBtn = document.getElementById('openScanner');
        const closeQrModalBtn = document.getElementById('closeQrModal');
        const closeScannerModalBtn = document.getElementById('closeScannerModal');
        const shareProfileBtn = document.getElementById('shareProfileBtn');
        const scannerTabs = document.querySelectorAll('.scanner-tab');
        const cameraView = document.getElementById('cameraView');
        const uploadView = document.getElementById('uploadView');

        // Show QR Code Modal
        function showQrModal() {
            qrModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Show Scanner Modal
        function showScannerModal() {
            scannerModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Hide Modal
        function hideModal(modal) {
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Event listeners
        showQrCodeBtn.addEventListener('click', showQrModal);
        openScannerBtn.addEventListener('click', showScannerModal);
        shareProfileBtn.addEventListener('click', showQrModal);

        closeQrModalBtn.addEventListener('click', () => hideModal(qrModal));
        closeScannerModalBtn.addEventListener('click', () => hideModal(scannerModal));

        // Close modal when clicking outside
        [qrModal, scannerModal].forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    hideModal(modal);
                }
            });
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                if (qrModal.classList.contains('active')) hideModal(qrModal);
                if (scannerModal.classList.contains('active')) hideModal(scannerModal);
            }
        });

        // Scanner tabs
        scannerTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                const targetTab = this.getAttribute('data-tab');
                
                // Update active tab
                scannerTabs.forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                
                // Show corresponding view
                if (targetTab === 'camera') {
                    cameraView.style.display = 'block';
                    uploadView.style.display = 'none';
                } else {
                    cameraView.style.display = 'none';
                    uploadView.style.display = 'block';
                }
            });
        });

        // Scanner functionality
        const startScannerBtn = document.getElementById('startScanner');
        const toggleFlashBtn = document.getElementById('toggleFlash');
        const fileInput = document.getElementById('fileInput');

        let scannerActive = false;
        let flashOn = false;

        startScannerBtn.addEventListener('click', function() {
            if (!scannerActive) {
                // Start scanner simulation
                startScannerBtn.innerHTML = '<i class="fas fa-stop"></i> Stop Scanner';
                startScannerBtn.style.background = '#dc3545';
                
                // Simulate scanning process
                setTimeout(() => {
                    // Simulate successful scan
                    const profiles = [
                        { name: "Sarah Miller", username: "@sarahm", age: 26, location: "Los Angeles, CA" },
                        { name: "Mike Chen", username: "@mikec", age: 29, location: "Chicago, IL" },
                        { name: "Emma Davis", username: "@emmad", age: 25, location: "Miami, FL" }
                    ];
                    
                    const randomProfile = profiles[Math.floor(Math.random() * profiles.length)];
                    
                    // Show profile preview
                    if (confirm(`QR Code scanned! Profile found:\n\n${randomProfile.name}, ${randomProfile.age}\n${randomProfile.location}\n\nWould you like to view this profile?`)) {
                        // Redirect to profile (simulated)
                        alert(`Redirecting to ${randomProfile.name}'s profile...`);
                        hideModal(scannerModal);
                        
                        // Reset scanner
                        resetScanner();
                    } else {
                        resetScanner();
                    }
                }, 3000);
                
                scannerActive = true;
            } else {
                resetScanner();
            }
        });

        function resetScanner() {
            startScannerBtn.innerHTML = '<i class="fas fa-play"></i> Start Scanner';
            startScannerBtn.style.background = '';
            scannerActive = false;
        }

        toggleFlashBtn.addEventListener('click', function() {
            flashOn = !flashOn;
            toggleFlashBtn.innerHTML = flashOn ? 
                '<i class="fas fa-bolt"></i> Flash On' : 
                '<i class="fas fa-bolt"></i> Flash';
            toggleFlashBtn.style.background = flashOn ? '#ffc107' : '';
        });

        // File upload for QR code scanning
        fileInput.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                // Simulate processing uploaded image
                alert('Processing uploaded image for QR code...');
                
                setTimeout(() => {
                    const profiles = [
                        { name: "Jessica Wilson", username: "@jessicaw", age: 27, location: "Seattle, WA" },
                        { name: "David Brown", username: "@davidb", age: 31, location: "Austin, TX" }
                    ];
                    
                    const randomProfile = profiles[Math.floor(Math.random() * profiles.length)];
                    
                    if (confirm(`QR Code found in image!\n\n${randomProfile.name}, ${randomProfile.age}\n${randomProfile.location}\n\nView profile?`)) {
                        alert(`Opening ${randomProfile.name}'s profile...`);
                        hideModal(scannerModal);
                    }
                    
                    // Reset file input
                    fileInput.value = '';
                }, 2000);
            }
        });

        // Existing QR code functionality
        const downloadQrBtn = document.getElementById('downloadQr');
        const shareProfileModalBtn = document.getElementById('shareProfile');
        const copyQrLinkBtn = document.getElementById('copyQrLink');

        downloadQrBtn.addEventListener('click', function() {
            alert('QR code download functionality would be implemented here');
        });

        shareProfileModalBtn.addEventListener('click', function() {
            if (navigator.share) {
                navigator.share({
                    title: 'Alex Johnson - SoulConnect Profile',
                    text: 'Check out my SoulConnect profile!',
                    url: 'https://soulconnect.com/profile/alexjohnson'
                });
            } else {
                alert('Share profile link: https://soulconnect.com/profile/alexjohnson');
            }
        });

        copyQrLinkBtn.addEventListener('click', function() {
            const profileUrl = 'https://soulconnect.com/profile/alexjohnson';
            
            navigator.clipboard.writeText(profileUrl).then(function() {
                const originalHtml = copyQrLinkBtn.innerHTML;
                copyQrLinkBtn.innerHTML = '<i class="fas fa-check"></i>';
                copyQrLinkBtn.style.background = 'var(--success)';
                
                setTimeout(() => {
                    copyQrLinkBtn.innerHTML = originalHtml;
                    copyQrLinkBtn.style.background = '';
                }, 2000);
            }).catch(function(err) {
                alert('Failed to copy link to clipboard');
            });
        });

        // Social sharing buttons
        document.querySelectorAll('.share-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const platform = this.classList[1];
                const profileUrl = 'https://soulconnect.com/profile/alexjohnson';
                let shareUrl = '';
                
                switch(platform) {
                    case 'share-whatsapp':
                        shareUrl = `https://wa.me/?text=Check out my SoulConnect profile! ${profileUrl}`;
                        break;
                    case 'share-messenger':
                        shareUrl = `https://www.facebook.com/dialog/send?link=${encodeURIComponent(profileUrl)}&app_id=123456789&redirect_uri=${encodeURIComponent(profileUrl)}`;
                        break;
                    case 'share-instagram':
                        shareUrl = `https://www.instagram.com/`;
                        break;
                    default:
                        return;
                }
                
                if (shareUrl) {
                    window.open(shareUrl, '_blank', 'width=600,height=400');
                }
            });
        });

        // Simple avatar edit functionality
        document.querySelector('.avatar-edit').addEventListener('click', function() {
            alert('Avatar upload functionality would open here');
        });

        // Simple edit profile functionality
        document.querySelector('.btn-primary').addEventListener('click', function() {
            alert('Edit profile page would open here');
        });
    </script>
</body>
</html>